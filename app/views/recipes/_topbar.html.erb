<%# Topbar/Header for Recipes View (Desktop Only) %>
<header
  class="
    hidden md:flex h-14 items-center justify-end lg:justify-between px-6 border-b border-border-subtle
    dark:border-gray-800 bg-surface-base/80 dark:bg-gray-950/80 backdrop-blur-md sticky
    top-0 z-20
  "
>

  <%# Left: View Title & Recipe Count - Hidden on medium screens (768-1023px) to prevent overflow %>
  <div class="hidden lg:flex items-center gap-2">
    <h2 class="text-lg font-bold text-text-primary dark:text-gray-100">
      <%= params[:view] == "favorites" ? "Favorites" : "All Recipes" %>
    </h2>
    <span class="text-text-tertiary dark:text-gray-500 text-sm font-normal">
      <%= @recipes&.count || 0 %>
      recipes
    </span>
  </div>

  <%# Right: Actions %>
  <div class="flex items-center gap-3">

    <%# Search Input - Disabled for now %>
    <div class="relative opacity-50">
      <div class="absolute left-2.5 top-1/2 -translate-y-1/2 pointer-events-none">
        <%= lucide_icon "search", class: "size-4 text-text-tertiary dark:text-gray-500" %>
      </div>
      <input
        type="text"
        placeholder="Search..."
        disabled
        class="
          pl-8 pr-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200
          dark:border-gray-700 rounded-md text-sm w-48 cursor-not-allowed text-gray-900
          dark:text-gray-100
        "
      />
    </div>

    <%# Separator %>
    <div class="h-4 w-px bg-gray-300 dark:bg-gray-700 mx-1"></div>

    <%# View Toggle - Grid/List Switcher %>
    <div class="flex bg-gray-100 dark:bg-gray-900 p-0.5 rounded-md border border-gray-200 dark:border-gray-700">
      <button
        type="button"
        data-view-switcher-target="gridButton"
        data-action="click->view-switcher#setGrid"
        class="p-1.5 rounded-sm transition-all"
        aria-label="Grid view"
      >
        <%= lucide_icon "layout-grid", class: "size-3.5" %>
      </button>
      <button
        type="button"
        data-view-switcher-target="listButton"
        data-action="click->view-switcher#setList"
        class="p-1.5 rounded-sm transition-all"
        aria-label="List view"
      >
        <%= lucide_icon "list", class: "size-3.5" %>
      </button>
    </div>

    <%# New Recipe Button %>
    <%= link_to new_recipe_path, class: "flex items-center gap-1 bg-brand-primary dark:bg-amber-700 text-white px-3 py-1.5 rounded-md text-sm font-medium hover:bg-brand-primary-dark dark:hover:bg-amber-800 shadow-sm transition-colors ml-2", data: { testid: "new-recipe-button" } do %>
      <%= lucide_icon "plus", class: "size-3.5" %>
      <span>New</span>
    <% end %>
  </div>
</header>
