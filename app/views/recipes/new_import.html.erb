<% content_for :title, "Import Recipe" %>

<div class="flex-1 overflow-y-auto">
  <div class="max-w-lg mx-auto px-4 md:px-8 py-12">

    <%# Back link %>
    <%= link_to new_recipe_path, class: "flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mb-8" do %>
      <%= lucide_icon "arrow-left", class: "size-4" %>
      Back
    <% end %>

    <%# Header %>
    <div class="text-center mb-8">
      <div class="w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4">
        <%= lucide_icon "globe", class: "size-7 text-brand-primary dark:text-amber-500" %>
      </div>
      <h1 class="font-serif font-bold text-2xl text-text-primary dark:text-gray-100 mb-2">Import Recipe</h1>
      <p class="text-sm text-gray-500 dark:text-gray-400">Paste a recipe URL and we'll extract the details for you</p>
    </div>

    <%# Error message %>
    <% if flash[:alert].present? %>
      <div class="mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-800 dark:text-red-200 text-sm">
        <%= flash[:alert] %>
      </div>
    <% end %>

    <%# Import form %>
    <%= form_with url: import_recipes_path, method: :post, class: "space-y-4" do |form| %>
      <div>
        <%= form.label :url, "Recipe URL", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" %>
        <%= form.url_field :url,
            placeholder: "https://example.com/recipe/chocolate-cake",
            required: true,
            autofocus: true,
            class: "w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:outline-none focus:border-brand-primary dark:focus:border-amber-500 focus:ring-1 focus:ring-brand-primary dark:focus:ring-amber-500",
            data: { testid: "import-url-input" } %>
      </div>

      <%= form.submit "Import Recipe", class: "w-full px-5 py-3 bg-brand-primary hover:bg-brand-primary-dark dark:bg-amber-600 dark:hover:bg-amber-700 text-white rounded-lg text-sm font-medium transition-colors cursor-pointer", data: { testid: "import-submit" } %>
    <% end %>

    <p class="mt-4 text-xs text-gray-400 dark:text-gray-500 text-center">
      Works with most recipe websites. You'll be able to review and edit before saving.
    </p>

  </div>
</div>
