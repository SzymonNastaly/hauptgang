<%# Title and Tags Section - Used on both mobile and desktop %>
<div>
  <%= form.text_field :name,
      placeholder: "Recipe Title",
      data: { testid: "recipe-name-input" },
      class: "w-full bg-transparent text-4xl md:text-5xl font-bold text-text-primary dark:text-gray-100 placeholder-gray-300 dark:placeholder-gray-700 focus:outline-none border-b-2 border-transparent focus:border-brand-primary dark:focus:border-amber-600 transition-colors pb-2" %>

  <%# Tag Selection - Inline Chips %>
  <div class="mt-4 flex flex-wrap gap-2">
    <% if Tag.any? %>
      <% Tag.all.each do |tag| %>
        <label class="cursor-pointer">
          <%= check_box_tag "recipe[tag_ids][]",
              tag.id,
              recipe.tag_ids.include?(tag.id),
              class: "sr-only peer" %>
          <span class="flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium border transition-all
                       peer-checked:bg-brand-primary peer-checked:text-white peer-checked:border-brand-primary
                       dark:peer-checked:bg-amber-600 dark:peer-checked:border-amber-600
                       bg-surface-overlay dark:bg-gray-800 border-gray-300 dark:border-gray-700
                       text-gray-600 dark:text-gray-400
                       hover:border-brand-primary/50 dark:hover:border-amber-600/50
                       peer-focus:ring-2 peer-focus:ring-brand-primary/20 dark:peer-focus:ring-amber-600/20">
            <%= lucide_icon "tag", class: "size-3" %>
            <%= tag.name %>
          </span>
        </label>
      <% end %>
    <% else %>
      <span class="text-xs text-gray-400 dark:text-gray-600 italic">No tags available yet</span>
    <% end %>
  </div>
</div>
